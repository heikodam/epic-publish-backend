(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,a,t){e.exports={button:"Marketplace_button__1ZgyW",del_btn:"Marketplace_del_btn__2eJN5",edt_btn:"Marketplace_edt_btn__3vgv-",block:"Marketplace_block__25OmC",title:"Marketplace_title__Bcias",value:"Marketplace_value__2iSGo",error:"Marketplace_error__2U2LG"}},12:function(e,a,t){e.exports={block:"Ad_block__3xMIL",title:"Ad_title__3l7NT",value:"Ad_value__2SdOR",button:"Ad_button__2iytn",del_btn:"Ad_del_btn____5nL",edt_btn:"Ad_edt_btn__--aqd",img:"Ad_img__XvhEf",error:"Ad_error__dPEF1"}},13:function(e,a,t){e.exports={button:"Profile_button__eQ7MG",del_btn:"Profile_del_btn__S2vPf",edt_btn:"Profile_edt_btn__1cyJT",block:"Profile_block__2J-9I",title:"Profile_title__3dsGO",value:"Profile_value__20rwh",error:"Profile_error__2Lso_"}},18:function(e,a,t){e.exports={Input:"Input_Input__JIrFL",Label:"Input_Label__2lsXK",InputElement:"Input_InputElement__1VN_9",Invalid:"Input_Invalid__3vM-2",ErrMsg:"Input_ErrMsg__10-4z"}},19:function(e,a,t){e.exports={button:"ViewAds_button__eozaW",del_btn:"ViewAds_del_btn__2KXi4",edt_btn:"ViewAds_edt_btn__3SihV"}},21:function(e,a,t){e.exports={NavigationItem:"NavigationItem_NavigationItem__27wuG",active:"NavigationItem_active__2Pdxg"}},24:function(e,a,t){e.exports={Button:"Button_Button__1_HTB",Success:"Button_Success__YUugC",Danger:"Button_Danger__UXsEi"}},25:function(e,a,t){e.exports={error:"CreateAd_error__10-Ii"}},38:function(e,a,t){},39:function(e,a,t){e.exports={NavigationItems:"NavigationItems_NavigationItems__3s8X5"}},43:function(e,a,t){e.exports={Loader:"Spinner_Loader__3o9uE",load2:"Spinner_load2__3K-It"}},44:function(e,a,t){e.exports=t(73)},49:function(e,a,t){},50:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(36),i=t.n(r),c=t(4),o=(t(49),t(1)),u=t(15),s=t(37),m=t.n(s),d=(t(50),t(38)),p=t.n(d),v=t(39),b=t.n(v),f=t(21),h=t.n(f),g=function(e){return l.a.createElement("li",{className:h.a.NavigationItem},l.a.createElement(c.b,{to:e.link,exact:!0,activeClassName:h.a.active},e.children))},_=l.a.createContext(!1),E=l.a.createContext(),y=function(){var e=Object(n.useContext)(_).isUser,a=l.a.createElement(l.a.Fragment,null,l.a.createElement(g,{link:"/login"},"Login"),l.a.createElement(g,{link:"/signup"},"Signup"));return e&&(a=l.a.createElement(l.a.Fragment,null,l.a.createElement(g,{link:"/"},"Home"),l.a.createElement(g,{link:"/ads/me"},"Your Ads"),l.a.createElement(g,{link:"/marketplaces/me"},"Marketplaces"),l.a.createElement(g,{link:"/users/me"},"Profile"),l.a.createElement(g,{link:"/logout"},"Logout"))),l.a.createElement("ul",{className:b.a.NavigationItems},a)},j=function(e){return l.a.createElement("header",{className:p.a.Toolbar},l.a.createElement("nav",null,l.a.createElement(y,null)))},k=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(j,null),l.a.createElement("main",null,e.children))},O=t(2),C=t(42),N=t.n(C).a.create({withCredentials:!0}),w=t(18),S=t.n(w),T=function(e){var a=null,t=[S.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&t.push(S.a.Invalid),e.elType){case"input":a=l.a.createElement("input",Object.assign({className:t.join(" ")},e.elConfig,{value:e.value,onChange:e.changed}));break;case"textarea":a=l.a.createElement("textarea",Object.assign({className:t.join(" ")},e.elConfig,{value:e.value,onChange:e.changed}));break;case"select":a=l.a.createElement("select",{className:t.join(" "),onChange:e.changed,value:e.value},e.elConfig.options.map((function(e){return l.a.createElement("option",{value:e.value,key:e.value},e.displayValue)})));break;case"checkbox":a=e.elConfig.options.map((function(e){return l.a.createElement("div",{key:e.value},l.a.createElement("input",{type:"checkbox",name:e.name,value:e.value}),l.a.createElement("label",{htmlFor:e.value},e.label))}));break;case"radio":a=e.elConfig.options.map((function(e){return l.a.createElement("div",{key:e.value},l.a.createElement("input",{type:"radio",name:e.name,value:e.value,checked:e.checked}),l.a.createElement("label",{htmlFor:e.value},e.label))}));break;case"fileUpload":a=l.a.createElement("div",null,l.a.createElement("input",Object.assign({type:e.elConfig.type},e.elConfig)));break;default:a=l.a.createElement("input",Object.assign({className:t.join(" ")},e.elConfig,{value:e.value,onChange:e.changed}))}return l.a.createElement("div",{className:t.join(" ")},l.a.createElement("label",{className:S.a.Label},e.label),a,l.a.createElement("p",{className:S.a.ErrMsg},e.errMsg))},A=t(24),V=t.n(A),x=function(e){return l.a.createElement("button",{disabled:e.disabled,className:[V.a.Button,V.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},I=t(43),M=t.n(I),P=function(){return l.a.createElement("div",{className:M.a.Loader},"Loading...")},F=t(6),L=function(e,a){return Object(F.a)({},e,{},a)},U=function(e,a){var t=!0;if(!a)return!0;var n=void 0;if(a.required&&((t=""!==e.trim()&&t)||(n="This Field is Required")),a.minLength&&((t=e.length>=a.minLength&&t)||(n="A Min Length of "+a.minLength+" char is required")),a.maxLength&&((t=e.length<=a.maxLength&&t)||(n="A Max Length of "+a.minLength+" char is required")),a.isEmail){(t=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&t)||(n="Please enter a valid email address")}if(a.isNumeric){(t=/^\d+$/.test(e)&&t)||(n="Only Numers are allowed")}return{isValid:t,errMsg:n}},D=function(e){var a=new Date(e),t=""+(a.getMonth()+1),n=""+a.getDate(),l=a.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[l,t,n].join("-")},q={name:"",elType:"input",elConfig:{type:"text",placeholder:""},value:"",validation:{required:!1,minLength:null,maxLength:null,isEmail:null,isNumeric:null},valid:!0,touched:!1},z={},B=function(e){var a={};for(var t in e)a[t]=L(q,e[t]),a[t].elConfig=L(q.elConfig,e[t].elConfig);return a},G={};G=L(G,B({category:{name:"category",elType:"select",elConfig:{disabled:"true",type:"select",options:[{value:"realEstate",displayValue:"Immobilien"}]},validation:{required:!0},value:"real-estate",valid:!0},subCategory:{name:"subCategory",elType:"select",elConfig:{type:"select",disabled:"true",options:[{value:"rentalApartment",displayValue:"Mietwohnung"}]},validation:{required:!0},valid:!1},size:{name:"size",elConfig:{placeholder:"Wohnfl\xe4che"},validation:{required:!0,isNumeric:!0},valid:!1},rooms:{name:"rooms",elConfig:{placeholder:"Zimmer"},validation:{required:!0,isNumeric:!0},valid:!1},bedrooms:{name:"bedrooms",elConfig:{placeholder:"Schlafzimmer"},validation:{isNumeric:!0},valid:!1},bathrooms:{name:"bathrooms",elConfig:{placeholder:"Badezimmer"},validation:{isNumeric:!0},valid:!1},floor:{name:"floor",elConfig:{placeholder:"Etage"},validation:{isNumeric:!0},valid:!1},apartmentType:{name:"apartmentType",elType:"select",elConfig:{type:"select",options:[{value:"",displayValue:"Bitte w\xe4hlen"},{value:"topFloorApartment",displayValue:"Dachgeschosswohnung"},{value:"groundFloorApartment",displayValue:"Erdgeschosswohnung"},{value:"etagenwohnung",displayValue:"Etagenwohnung"},{value:"raisedGroundFloor",displayValue:"Hochparterre"},{value:"loft",displayValue:"Loft"},{value:"select",displayValue:"Maisonette"},{value:"penthouse",displayValue:"Penthouse"},{value:"souterrain",displayValue:"Souterrain"},{value:"otherTypes",displayValue:"Andere Wohnungstypen"}]}},monthAvailability:{name:"monthAvailability",elType:"select",elConfig:{type:"select",options:[{value:"",displayValue:"Bitte w\xe4hlen"},{value:"1",displayValue:"01"},{value:"2",displayValue:"02"},{value:"3",displayValue:"03"},{value:"4",displayValue:"04"},{value:"5",displayValue:"05"},{value:"6",displayValue:"06"},{value:"7",displayValue:"07"},{value:"8",displayValue:"08"},{value:"9",displayValue:"09"},{value:"10",displayValue:"10"},{value:"11",displayValue:"11"},{value:"12",displayValue:"12"}]}},yearAvailability:{name:"yearAvailability",elType:"select",elConfig:{type:"select",options:[{value:"",displayValue:"Bitte w\xe4hlen"},{value:"2020",displayValue:"2020"},{value:"2021",displayValue:"2021"},{value:"2022",displayValue:"2022"},{value:"2023",displayValue:"2023"},{value:"2024",displayValue:"2024"}]}},serviceCosts:{name:"serviceCosts",elConfig:{placeholder:"Nebenkosten in \u20ac"},validation:{isNumeric:!0}},heatingCosts:{name:"heatingCosts",elConfig:{placeholder:"Heizkosten in \u20ac"},validation:{isNumeric:!0}},totalRent:{name:"totalRent",elConfig:{placeholder:"Warmmiete in \u20ac"},validation:{isNumeric:!0}},deposit:{name:"deposit",elConfig:{placeholder:"Kaution in \u20ac"},validation:{isNumeric:!0}},apartmentFurnishings:{name:"apartmentFurnishings",elType:"checkbox",elConfig:{type:"checkbox",options:[{name:"apartmentFurnishings",value:"furnished",label:"M\xf6bliert/Teilm\xf6bliert"},{name:"apartmentFurnishings",value:"balcony",label:"Balkon"},{name:"apartmentFurnishings",value:"terrace",label:"Terrasse"},{name:"apartmentFurnishings",value:"kitchen",label:"Einbauk\xfcche"},{name:"apartmentFurnishings",value:"bathtub",label:"Badewanne"},{name:"apartmentFurnishings",value:"guestBathroom",label:"G\xe4ste WC"},{name:"apartmentFurnishings",value:"steplessAccess",label:"Stufenloser Zugang"},{name:"apartmentFurnishings",value:"floorHeating",label:"Fu\xdfbodenheizung"}]}},generalCharacteristics:{name:"generalCharacteristics",elType:"checkbox",elConfig:{type:"checkbox",options:[{name:"generalCharacteristics",value:"oldBuilding",label:"Altbau"},{name:"generalCharacteristics",value:"newBuilding",label:"Neubau"},{name:"generalCharacteristics",value:"elevator",label:"Aufzug"},{name:"generalCharacteristics",value:"basement",label:"Keller"},{name:"generalCharacteristics",value:"loft",label:"Dachboden"},{name:"generalCharacteristics",value:"WBSneeded",label:"WBS ben\xf6tigt"},{name:"generalCharacteristics",value:"parkingSpace",label:"Garage/Stellplatz"},{name:"generalCharacteristics",value:"garden",label:"Garten/-mitnutzung"},{name:"generalCharacteristics",value:"pets",label:"Haustiere erlaubt"},{name:"generalCharacteristics",value:"WGsuitable",label:"WG-geeignet"}]}},adType:{name:"adType",elType:"radio",elConfig:{type:"radio",options:[{name:"adType",value:"renting",label:"Ich Biete"},{name:"adType",value:"searching",label:"Ich suche"}]},validation:{required:!0},valid:!1},title:{name:"title",elConfig:{placeholder:"Your ad Title"},validation:{required:!0},valid:!1},description:{name:"description",elType:"textarea",elConfig:{type:"textarea",placeholder:"Your detailed description of your ad..."},validation:{required:!0},valid:!1},rent:{name:"rent",elConfig:{placeholder:"Kaltmiete in \u20ac"},validation:{required:!0,isNumeric:!0},valid:!1},priceType:{name:"priceType",elType:"radio",elConfig:{type:"radio",options:[{name:"priceType",value:"fixed",label:"Festpreis"},{name:"priceType",value:"negotiable",label:"VB"},{name:"priceType",value:"giveAway",label:"Zu Verschenken"}]},validation:{required:!0},value:"fixed",valid:!1},imgUpload:{name:"imgUpload",elType:"fileUpload",elConfig:{type:"file",accept:".jpg, .jpeg, .png",multiple:!0}},zipCode:{name:"zipCode",elConfig:{placeholder:"PLZ"},validation:{required:!0,isNumeric:!0,minLength:5,maxLength:5},valid:!1},streetNumber:{name:"streetNumber",elConfig:{placeholder:"Stra\xdfe/Nr."}},posterType:{name:"posterType",elType:"radio",elConfig:{type:"radio",options:[{name:"posterType",value:"privat",label:"Privat"},{name:"posterType",value:"commercial",label:"Gewerblich"}]},validation:{required:!0},valid:!1},name:{name:"name",elConfig:{placeholder:"Name"},validation:{required:!0},valid:!1},phoneNumber:{name:"phoneNumber",elConfig:{placeholder:"Phone Number"},validation:{isNumeric:!0}}})),G=L(G,B(z));var W=G=L(G,B({marketplaces:{name:"marketplaces",elType:"checkbox",elConfig:{type:"checkbox",label:"Where do you want to publish it: ",options:[{name:"marketplaces",value:"ebay-kleinanzeige",label:"Ebay-Kleinanzeige"},{name:"marketplaces",value:"immowelt",label:"Immowelt"},{name:"marketplaces",value:"wg-gesucht",label:"WG Gesucht"},{name:"marketplaces",value:"immobilienscout24",label:"ImmobilienScout24"}]},value:"",valid:!0},title:{name:"title",elConfig:{placeholder:"Your ad Title"},validation:{required:!0},valid:!1}})),K=t(25),H=t.n(K),Y=function(e){var a=Object(n.useState)(W),t=Object(o.a)(a,2),r=t[0],i=t[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),m=s[0],d=s[1],p=Object(n.useState)(!1),v=Object(o.a)(p,2),b=v[0],f=v[1],h=Object(n.useState)(!1),g=Object(o.a)(h,2),_=g[0],y=g[1],j=Object(n.useContext)(E).dispatchAds,k=Object(u.g)(),C=function(e,a){var t={};t=L(r[a],"imgUpload"===a?{value:e.target.files}:{value:e.target.value,valid:U(e.target.value,r[a].validation),touched:!0});var n=L(r,Object(O.a)({},a,t));i(L(n)),y(!0)},w=[];for(var S in r)w.push(r[S]);var A=w.map((function(e){return l.a.createElement(T,{key:e.name,elType:e.elType,elConfig:e.elConfig,label:e.label,value:e.value,invalid:!e.valid,shouldValidate:e.validation,touched:e.touched,changed:function(a){return C(a,e.name)}})}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null," Create a New Ad here"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d(!0);for(var a=new FormData,t=0;t<r.imgUpload.value.length;t++)a.append("photos",r.imgUpload.value[t]);var n={};for(var l in r){var c=Object(O.a)({},l,r[l].value);n=L(n,c)}a.append("formValues",JSON.stringify(n)),console.log("adDataToSave: ",a),N.post("/ads",a).then((function(e){f(!1),j({type:"setAds",ads:null}),i(W),d(!1),k.push("/ads/me")})).catch((function(e){f(!0),d(!1)}))}},A,l.a.createElement("input",{type:"file",onChange:function(e){return C(e,"imgUpload")},encType:"multipart/form-data",multiple:!0}),l.a.createElement("br",null),b?l.a.createElement("span",{className:H.a.error},"Please make sure the form was filled out correctly and you only uploaded Images"):null,_?null:l.a.createElement("span",{className:H.a.error},"Please fill out the Form correctly"),l.a.createElement("br",null),m?l.a.createElement(P,null):l.a.createElement(x,{btnType:"Success",disabled:!_},"Publish Ad")))},J=t(8),R=t.n(J),X=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(!1),c=Object(o.a)(i,2),s=c[0],m=c[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),v=p[0],b=p[1],f=Object(u.g)();Object(n.useEffect)((function(){r(!0),N.get("/marketplaces/me").then((function(e){b(e.data),r(!1)})).catch((function(e){m(!0),r(!1)}))}),[]);var h=[R.a.del_btn,R.a.button].join(" "),g=[R.a.dlt_btn,R.a.button].join(" "),_=[R.a.edt_btn,R.a.button].join(" "),E=[];return v&&(E=v.map((function(e){return l.a.createElement("div",{key:e._id,className:R.a.marketplace},l.a.createElement("button",{type:"button",className:h,onClick:function(){return a=e._id,void N.delete("/marketplaces/me/"+a).then((function(){var e=v.map((function(e){return Object.assign({},e)})),t=e.map((function(e){return e._id})).indexOf(a);e.splice(t,1),b(e)}));var a}},"Delete"),l.a.createElement("button",{type:"button",className:g,onClick:function(){return a=e._id,void f.push("/marketplaces/me/"+a);var a}},"Details"),l.a.createElement("h4",{className:R.a.title},"Marketplace: "),l.a.createElement("p",{className:R.a.value},e.marketplace),l.a.createElement("h4",{className:R.a.title},"Username: "),l.a.createElement("p",{className:R.a.value},e.username))})).reverse()),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Your Marketplaces "),s?l.a.createElement("p",{className:R.a.error},"There was a error"):null,l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:h,onClick:function(){N.delete("/marketplaces/me").then((function(){b([])}))}},"Delete All Marketplaces"),l.a.createElement("button",{type:"button",className:_,onClick:function(){f.push("/marketplaces/create")}},"Create New Marketplaces")),t?l.a.createElement(P,null):null,E)},Z=t(11),Q=t.n(Z),$=function(e){var a=Object(n.useState)(!1),t=Object(o.a)(a,2),r=t[0],i=t[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),m=s[0],d=s[1],p=Object(n.useState)({}),v=Object(o.a)(p,2),b=v[0],f=v[1],h=Object(n.useState)(!1),g=Object(o.a)(h,2),_=g[0],E=g[1],y=Object(u.g)(),j=e.match.params.id;Object(n.useEffect)((function(){i(!0),N.get("/marketplaces/me/"+j).then((function(e){d(!1),f(e.data),i(!1)})).catch((function(e){d(!0),i(!1)}))}),[j]);var k=[Q.a.del_btn,Q.a.button].join(" "),C=[Q.a.edt_btn,Q.a.button].join(" ");return l.a.createElement("div",null,l.a.createElement("h1",null,"Details of your Profile: "),l.a.createElement("button",{type:"button",className:k,onClick:function(){N.delete("/marketplaces/me/"+j).then(y.push("/marketplaces/me")).catch(d(!0))}},"Delete"),l.a.createElement("button",{type:"button",className:C,onClick:function(){E(!0)}},"Edit"),r?l.a.createElement(P,null):l.a.createElement("div",null,l.a.createElement("p",null,"To change the Marketplace and your Password, delete this Marketplace and create a new one"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=Object(F.a)({},b);delete a._id,delete a.__v,delete a.userId,delete a.password,delete a.marketplace,N.patch("/marketplaces/me/"+j,a).then((function(){d(!1),E(!1),i(!1)})).catch((function(e){d(!0),i(!1)}))}},l.a.createElement("div",{className:Q.a.block},l.a.createElement("h4",{className:Q.a.title},"Username: "),_?l.a.createElement("input",{value:b.username,onChange:function(e){return function(e,a){var t=L(b,Object(O.a)({},a,e.target.value));f(t)}(e,"username")}}):l.a.createElement("p",{className:Q.a.value},b.username)),l.a.createElement("div",{className:Q.a.block},l.a.createElement("h4",{className:Q.a.title},"Marketplace: "),l.a.createElement("p",{className:Q.a.value},b.marketplace)),_?l.a.createElement(x,{btnType:"Success"},"Save"):null)),m?l.a.createElement("p",{className:Q.a.error},"There was an error"):null)},ee={},ae=ee=L(ee,function(e){var a={};for(var t in e)a[t]=L(q,e[t]),a[t].elConfig=L(q.elConfig,e[t].elConfig);return a}({username:{name:"username",elConfig:{placeholder:"Email or Username"},validation:{required:!0}},password:{name:"password",elType:"password",elConfig:{type:"password",placeholder:"Password"},validation:{required:!0}},marketplace:{name:"marketplace",elType:"select",elConfig:{type:"select",options:[{value:"ebay-kleinanzeige",displayValue:"Ebay-Kleinanzeige"},{value:"immowelt",displayValue:"Immowelt"}]},value:"immowelt",valid:!0}})),te=function(){var e=Object(n.useState)(ae),a=Object(o.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(!1),c=Object(o.a)(i,2),s=c[0],m=c[1],d=Object(n.useState)(!1),p=Object(o.a)(d,2),v=p[0],b=p[1],f=Object(n.useState)(""),h=Object(o.a)(f,2),g=h[0],_=h[1],E=Object(u.g)(),y=[];for(var j in t)y.push(t[j]);var k=y.map((function(e){return l.a.createElement(T,{key:e.name,elType:e.elType,elConfig:e.elConfig,value:e.value,invalid:!e.valid,shouldValidate:e.validation,touched:e.touched,changed:function(a){return function(e,a){var n=L(t[a],{value:e.target.value,valid:U(e.target.value,t[a].validation),touched:!0}),l=L(t,Object(O.a)({},a,n));r(L(l));var i=!0;for(var c in l)i=l[c].valid&&i;b(i)}(a,e.name)}})}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null," Enter Marketplace Login Data here"),l.a.createElement("p",null,"Please make sure the data you enter is correct"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(!0);var a={};for(var n in t){var l=Object(O.a)({},n,t[n].value);a=L(a,l)}N.post("/marketplaces",Object(F.a)({},a)).then((function(e){e.data.isUser,m(!1),E.push("/marketplaces/me")})).catch((function(e){_("There was an error"),m(!1)}))}},k,s?l.a.createElement(P,null):l.a.createElement(x,{btnType:"Success",disabled:!v},"Publish Ad"),v?null:l.a.createElement("span",null,"Please fill out the Form correctly"),l.a.createElement("p",null,g)))},ne=t(9),le=t.n(ne),re=function(e){var a=[le.a.del_btn,le.a.button].join(" "),t=[le.a.dlt_btn,le.a.button].join(" ");return l.a.createElement("div",{className:le.a.adFrame},l.a.createElement("div",{className:[le.a.column,le.a.left].join(" ")},l.a.createElement("img",{src:e.imgLink,alt:"",className:le.a.avatar}),l.a.createElement("p",null,e.date," "),l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:a,onClick:function(){return e.delAd(e.adId)}},"Delete"),l.a.createElement("button",{type:"button",className:t,onClick:function(){return e.dltAd(e.adId)}},"Details"))),l.a.createElement("div",{className:[le.a.column,le.a.middle].join(" ")},l.a.createElement("h3",null,e.title),l.a.createElement("p",null," ",e.description," ")),l.a.createElement("div",{className:[le.a.column,le.a.right].join(" ")},l.a.createElement("h4",null,"Marketplaces on:"),e.marketplaces.map((function(e){return l.a.createElement("li",{key:e},e)}))))},ie=t(19),ce=t.n(ie),oe=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],r=a[1],i=Object(n.useContext)(E),c=i.contextAds,s=i.dispatchAds,m=Object(u.g)();Object(n.useEffect)((function(){c||(r(!0),N.get("/ads/me").then((function(e){s({type:"setAds",ads:e.data}),r(!1)})).catch((function(e){s({type:"setAds",ads:null}),r(!1)})))}),[s,c]);var d=[];c&&(d=c.map((function(e){return l.a.createElement(re,{key:e._id,adId:e._id,date:D(e.date),title:e.title,description:e.description,marketplaces:["Ebay-Kleinanzeige","Immowelt"],imgLink:e.imgs[0]?e.imgs[0].url:"https://res.cloudinary.com/heikodam/image/upload/v1588514069/house_icon_adq7te.png",delAd:function(e){return function(e){N.delete("/ads/me/"+e).then((function(){var a=c.map((function(e){return Object.assign({},e)})),t=a.map((function(e){return e._id})).indexOf(e);a.splice(t,1),s({type:"setAds",ads:a})}))}(e)},dltAd:function(e){return function(e){m.push("/ads/me/"+e)}(e)}})})).reverse());var p=[ce.a.del_btn,ce.a.button].join(" "),v=[ce.a.edt_btn,ce.a.button].join(" ");return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"View all your ads here"),l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:p,onClick:function(){N.delete("/ads/me").then((function(){s({type:"setAds",ads:[]})}))}},"Delete All Ads"),l.a.createElement("button",{type:"button",className:v,onClick:function(){m.push("/ads/create")}},"Create New Ad")),t?l.a.createElement(P,null):null,d)},ue={email:{name:"email",value:"",elConfig:{placeholder:"Email"}},password:{name:"password",value:"",elConfig:{placeholder:"Password",type:"password"}}},se=function(){var e=Object(n.useContext)(_).dispatchUser,a=Object(n.useState)(ue),t=Object(o.a)(a,2),r=t[0],i=t[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),m=s[0],d=s[1],p=Object(n.useState)(!1),v=Object(o.a)(p,2),b=v[0],f=v[1],h=Object(n.useState)(!1),g=Object(o.a)(h,2),E=g[0],y=g[1],j=[];for(var k in r)j.push(r[k]);var C=j.map((function(e){return l.a.createElement(T,{key:e.name,elType:e.elType,elConfig:e.elConfig,value:e.value,changed:function(a){return function(e,a){var t=L(r,Object(O.a)({},a,Object(F.a)({},r[a],{value:e.target.value})));i(t)}(a,e.name)}})}));return l.a.createElement(l.a.Fragment,null,E?l.a.createElement(u.a,{to:"/"}):null,l.a.createElement("h3",null," Login Here "),l.a.createElement("form",{onSubmit:function(a){a.preventDefault(),d(!0);var t={};for(var n in r){var l=Object(O.a)({},n,r[n].value);t=L(t,l)}N.post("/users/login",Object(F.a)({},t)).then((function(a){console.log(a),a.data.isUser||f(!0),e({type:"isUser"}),d(!1),y(!0)})).catch((function(e){console.log(e),f(!0),d(!1)}))}},C,b?l.a.createElement("p",null,"Unable to log you in. Please check the entered data"):null,m?l.a.createElement(P,null):l.a.createElement(x,{btnType:"Success"},"Login")))},me={firstname:{name:"firstname",value:"",elConfig:{placeholder:"First Name"},validation:{required:!0},valid:!1,touched:!1},surname:{name:"surname",value:"",elConfig:{placeholder:"Surname"},validation:{required:!0},valid:!1,touched:!1},email:{name:"email",value:"",elConfig:{placeholder:"Email"},validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{name:"password",value:"",elConfig:{placeholder:"Password",type:"password"},validation:{required:!0},valid:!1,touched:!1},confirmPassword:{name:"confirmPassword",value:"",elConfig:{placeholder:"Confirm Password",type:"password"},validation:{required:!0},valid:!1,touched:!1}},de=function(){var e=Object(n.useState)(me),a=Object(o.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(!1),c=Object(o.a)(i,2),s=c[0],m=c[1],d=Object(n.useState)(void 0),p=Object(o.a)(d,2),v=p[0],b=p[1],f=Object(n.useState)(void 0),h=Object(o.a)(f,2),g=h[0],E=h[1],y=Object(n.useState)(!1),j=Object(o.a)(y,2),k=j[0],C=j[1],w=Object(n.useContext)(_).dispatchUser;Object(n.useEffect)((function(){var e=!0;for(var a in t)e=t[a].valid&&e;C(e)}),[t]),Object(n.useEffect)((function(){if(t.password.value!==t.confirmPassword.value&&!t.confirmPassword.errMsg&&t.confirmPassword.touched){var e=L(t.confirmPassword,{errMsg:"The Passwords do not match",valid:!1}),a=L(t,Object(O.a)({},e.name,e));r(a)}}),[t]),Object(n.useEffect)((function(){var e=setTimeout((function(){N.post("/emailUsed",{email:t.email.value}).then((function(e){if(E(e.data),!t.email.errMsg&&g){var a=L(t.email,{errMsg:"This email is not available",valid:!1}),n=L(t,Object(O.a)({},a.name,a));r(n)}})).catch((function(e){console.log("There was an error")}))}),500);return function(){clearTimeout(e)}}),[t,g]);var S=[];for(var A in t)S.push(t[A]);var V=S.map((function(e){return l.a.createElement(T,{key:e.name,elType:e.elType,elConfig:e.elConfig,value:e.value,invalid:!e.valid,shouldValidate:e.validation,touched:e.touched,changed:function(a){return function(e,a){var n=L(t,Object(O.a)({},a,Object(F.a)({},t[a],{value:e.target.value})));n[a].touched=!0;var l=U(n[a].value,n[a].validation),i=l.isValid,c=l.errMsg;n[a].valid=i,n[a].errMsg=c,r(n)}(a,e.name)},errMsg:e.errMsg})}));return l.a.createElement(l.a.Fragment,null,v?l.a.createElement(u.a,{to:"/"}):null,l.a.createElement("h3",null," SignUp: "),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(!0);var a={};for(var n in t){var l=Object(O.a)({},n,t[n].value);a=L(a,l)}delete a.confirmPassword,N.post("/users",a).then((function(e){console.log("Sucessfully return"),console.log(e),w({type:"isUser"}),m(!1),b(!0)})).catch((function(e){console.log(e),b(!1),m(!1)}))}},V,!1!==v&&k?null:l.a.createElement("p",null,"Please fill out the Form correctly"),s?l.a.createElement(P,null):l.a.createElement(x,{btnType:"Success",disabled:!k},"Sign Up")))},pe=function(){var e=Object(n.useState)(!0),a=Object(o.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(!1),c=Object(o.a)(i,2),u=c[0],s=c[1],m=Object(n.useContext)(_).dispatchUser,d=Object(n.useContext)(E).dispatchAds;return Object(n.useEffect)((function(){N.post("/users/logout").then((function(e){console.log(e),m({type:"isNotUser"}),d({type:"setAds",ads:null}),s(!0),r(!1)})).catch((function(e){console.log("IN CATCH"),console.log(e),s(!1),r(!1)}))}),[m,d]),l.a.createElement(l.a.Fragment,null,t?l.a.createElement(P,null):null,u?l.a.createElement("span",null,"You are all logged out"):l.a.createElement("span",null,"You are still logged in"))},ve=t(12),be=t.n(ve),fe=function(e){var a=Object(n.useState)(!1),t=Object(o.a)(a,2),r=t[0],i=t[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),m=s[0],d=s[1],p=Object(n.useState)({}),v=Object(o.a)(p,2),b=v[0],f=v[1],h=Object(n.useState)(!1),g=Object(o.a)(h,2),_=g[0],y=g[1],j=Object(n.useContext)(E),k=j.contextAds,C=j.dispatchAds,w=e.match.params.id,S=Object(u.g)();Object(n.useEffect)((function(){if(k){var e=k.map((function(e){return e._id})).indexOf(w);f(Object.assign({},k[e]))}else i(!0),N.get("/ads/me/"+w).then((function(e){d(!1),f(e.data),i(!1)})).catch((function(e){d(!0),i(!1)}))}),[w,k]);var T,A=[be.a.del_btn,be.a.button].join(" "),V=[be.a.edt_btn,be.a.button].join(" "),I=Object.keys(b),M=["_id","userId","_v","imgs","date"];T=I.map((function(e){return"object"===typeof b[e]||M.includes(e)||!b[e]?null:l.a.createElement("div",{key:e,className:be.a.block},l.a.createElement("h4",{className:be.a.title},e),_?l.a.createElement("input",{value:b[e],onChange:function(a){return function(e,a){var t=L(b,Object(O.a)({},a,e.target.value));f(t)}(a,e)}}):l.a.createElement("p",{className:be.a.value},b[e]))}));var F=null;return b.imgs&&(F=b.imgs.map((function(e){return l.a.createElement("img",{src:e.url,alt:"",className:be.a.img,key:e.asset_id})}))),l.a.createElement("div",null,l.a.createElement("h1",null,"Details of your Ad: "),l.a.createElement("button",{type:"button",className:A,onClick:function(){return function(e){N.delete("/ads/me/"+e).then((function(){var a=k.map((function(e){return Object.assign({},e)})),t=a.map((function(e){return e._id})).indexOf(e);a.splice(t,1),C({type:"setAds",ads:a})})),S.push("/ads/me")}(w)}},"Delete"),l.a.createElement("button",{type:"button",className:V,onClick:function(){y(!0)}},"Edit"),l.a.createElement("div",{className:be.a.block},l.a.createElement("h4",{className:be.a.title},"Images"),F),r?l.a.createElement(P,null):l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),N.patch("/ads/me/"+w,b).then((function(e){C({type:"setAds",ads:null}),d(!1),y(!1),i(!1)})).catch((function(e){d(!0),i(!1)}))}},T,_?l.a.createElement(x,{btnType:"Success"},"Save"):null),m?l.a.createElement("p",{className:be.a.error},"There was an error"):null)},he=t(13),ge=t.n(he),_e=function(e){var a=Object(n.useState)(!1),t=Object(o.a)(a,2),r=t[0],i=t[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),m=s[0],d=s[1],p=Object(n.useState)({}),v=Object(o.a)(p,2),b=v[0],f=v[1],h=Object(n.useState)(!1),g=Object(o.a)(h,2),_=g[0],E=g[1],y=Object(u.g)();Object(n.useEffect)((function(){i(!0),N.get("/users/me/").then((function(e){d(!1),f(e.data),i(!1)})).catch((function(e){d(!0),i(!1)}))}),[]);var j,k=[ge.a.del_btn,ge.a.button].join(" "),C=[ge.a.edt_btn,ge.a.button].join(" "),w=Object.keys(b),S=["date"];return j=w.map((function(e){return"object"===typeof b[e]||S.includes(e)?null:l.a.createElement("div",{key:e,className:ge.a.block},l.a.createElement("h4",{className:ge.a.title},e,": "),_?l.a.createElement("input",{value:b[e],onChange:function(a){return function(e,a){var t=L(b,Object(O.a)({},a,e.target.value));f(t)}(a,e)}}):l.a.createElement("p",{className:ge.a.value},b[e]))})),l.a.createElement("div",null,l.a.createElement("h1",null,"Details of your Profile: "),l.a.createElement("button",{type:"button",className:k,onClick:function(){return function(){if(window.confirm("This will delete all your data and account"))try{N.delete("/ads/me"),N.delete("/marketplaces/me"),N.delete("/users/me"),y.push("/logout")}catch(e){d(!0)}}()}},"Delete"),l.a.createElement("button",{type:"button",className:C,onClick:function(){E(!0)}},"Edit"),r?l.a.createElement(P,null):l.a.createElement("div",null,l.a.createElement("div",{className:ge.a.block},l.a.createElement("h4",{className:ge.a.title},"Date: "),l.a.createElement("p",{className:ge.a.value},D(b.date))),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=Object(F.a)({},b);delete a.date,N.patch("/users/me/",a).then((function(){d(!1),E(!1),i(!1)})).catch((function(e){d(!0),i(!1)}))}},j,_?l.a.createElement(x,{btnType:"Success"},"Save"):null)),m?l.a.createElement("p",{className:ge.a.error},"There was an error"):null)};var Ee=function(){var e=!1;m.a.get("token")&&(e=!0);var a=Object(n.useReducer)((function(e,a){switch(a.type){case"isUser":return!0;case"isNotUser":return!1;default:throw new Error}}),e),t=Object(o.a)(a,2),r=t[0],i=t[1],c=Object(n.useReducer)((function(e,a){switch(a.type){case"setAds":return a.ads;default:throw new Error}}),null),s=Object(o.a)(c,2),d=s[0],p=s[1];return l.a.createElement(_.Provider,{value:{isUser:r,dispatchUser:i}},l.a.createElement(E.Provider,{value:{contextAds:d,dispatchAds:p}},l.a.createElement(k,null,l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/login",component:se}),l.a.createElement(u.b,{path:"/signup",component:de}),l.a.createElement(u.b,{path:"/logout",component:pe}),l.a.createElement(u.b,{path:"/users/me",component:_e}),l.a.createElement(u.b,{path:"/ads/me/:id",component:fe}),l.a.createElement(u.b,{path:"/ads/me",component:oe}),l.a.createElement(u.b,{path:"/ads/create",component:Y}),l.a.createElement(u.b,{path:"/marketplaces/create",component:te}),l.a.createElement(u.b,{path:"/marketplaces/me/:id",component:$}),l.a.createElement(u.b,{path:"/marketplaces/me",component:X})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=l.a.createElement(c.a,null,l.a.createElement(Ee,null));i.a.render(ye,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,a,t){e.exports={button:"Marketplaces_button__3oiu2",del_btn:"Marketplaces_del_btn__P8zRu",edt_btn:"Marketplaces_edt_btn__yo3I2",dlt_btn:"Marketplaces_dlt_btn__2Ip2_",marketplace:"Marketplaces_marketplace__3X9cP",title:"Marketplaces_title__3K2I5",value:"Marketplaces_value__sfKln"}},9:function(e,a,t){e.exports={adFrame:"ViewAd_adFrame__3GmKB",button:"ViewAd_button__1QtFH",del_btn:"ViewAd_del_btn__1Tk84",edt_btn:"ViewAd_edt_btn__34QAk",dlt_btn:"ViewAd_dlt_btn__1IUgj",left:"ViewAd_left__2u95T",middle:"ViewAd_middle__8QG9G",right:"ViewAd_right__3sPdd",avatar:"ViewAd_avatar__3GOGy"}}},[[44,1,2]]]);
//# sourceMappingURL=main.8a4c0b0c.chunk.js.map